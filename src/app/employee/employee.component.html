<div fxLayout="row" >
    <mat-card fxLayout="column" fxFlex="25" class="mat-elevation-z5">
        <form #employeeForm="ngForm" (ngSubmit)="onSubmit(employeeForm, btnSubmit)" >
            <input type="hidden" name="_id" [(ngModel)]="employeeService.selectedEmployee._id" #_id="ngModel" >
            <mat-card-title fxLayout="column" > <h1 fxFlex fxFlexAlign="center" >Employee</h1> </mat-card-title>
            <mat-card-content fxLayout="column" > 
                <mat-form-field fxFlex="100" >
                    <mat-label>Name: </mat-label>
                    <input matInput type="text" name="name" [(ngModel)]="employeeService.selectedEmployee.name" #name="ngModel" placeholder="Enter name" required >
                </mat-form-field>
                <mat-form-field  fxFlex="100"  >
                    <mat-label>Position: </mat-label>
                    <input matInput type="text" name="position" [(ngModel)]="employeeService.selectedEmployee.position" #position="ngModel" placeholder="Enter position" required >
                </mat-form-field>
                <mat-form-field  fxFlex="100"  >
                    <mat-label>Office: </mat-label>
                    <input matInput type="text" name="office" [(ngModel)]="employeeService.selectedEmployee.office" #office="ngModel" placeholder="Enter office" required >
                </mat-form-field>
                <mat-form-field  fxFlex="100"  >
                    <mat-label>Salary: </mat-label>
                    <input matInput type="number" name="salary" [(ngModel)]="employeeService.selectedEmployee.salary" #salary="ngModel" placeholder="Enter salary" required >
                </mat-form-field>
            </mat-card-content>
            <mat-card-actions fxLayout="row"  >
                <button mat-button mat-stroked-button type="reset" (click)="resetForm(employeeForm, btnSubmit)" >Reset</button>
                <button mat-button mat-stroked-button fxFlex fxFlexAlign="end" color="primary" type="submit" [disabled]="employeeForm.invalid" #btnSubmit >Create</button>
            </mat-card-actions>
        </form>
    </mat-card>
    <mat-card fxLayout="column" fxFlex="75" class="mat-elevation-z5">
        <mat-card-title fxLayout="row" >
            <h1 fxFlex fxFlexAlign="start"  >Employees list</h1>
            <h1 fxFlex > {{employeeService.employees.length}} </h1>
        </mat-card-title>
        <mat-card-content >
            <table mat-table [dataSource]="employeeService.employees" fxFlex="100" >
                <ng-container matColumnDef="index">
                  <th mat-header-cell *matHeaderCellDef> No. </th>
                  <td mat-cell *matCellDef="let employee; let i = index;"> {{i+1}} </td>
                </ng-container>
                <ng-container matColumnDef="name">
                  <th mat-header-cell *matHeaderCellDef> Name </th>
                  <td mat-cell *matCellDef="let employee"> {{employee.name}} </td>
                </ng-container>
                <ng-container matColumnDef="position">
                  <th mat-header-cell *matHeaderCellDef> Position </th>
                  <td mat-cell *matCellDef="let employee"> {{employee.position}} </td>
                </ng-container>
                <ng-container matColumnDef="office">
                  <th mat-header-cell *matHeaderCellDef> Office </th>
                  <td mat-cell *matCellDef="let employee"> {{employee.office}} </td>
                </ng-container>
                <ng-container matColumnDef="salary">
                    <th mat-header-cell *matHeaderCellDef> Salary </th>
                    <td mat-cell *matCellDef="let employee"> {{employee.salary}} </td>
                  </ng-container>
                  <ng-container matColumnDef="option">
                    <th mat-header-cell *matHeaderCellDef> </th>
                    <td mat-cell *matCellDef="let employee">
                        <button mat-icon-button aria-label="Edit" (click)="onEdit(employee, btnSubmit)" > <mat-icon>edit</mat-icon></button>
                        <button mat-icon-button aria-label="Delete" (click)="onDelete(employee, employeeForm, btnSubmit)" > <mat-icon>delete</mat-icon></button>
                    </td>
                  </ng-container>
                <tr mat-header-row *matHeaderRowDef="employeeService.displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: employeeService.displayedColumns;"></tr>
              </table>
        </mat-card-content>
    </mat-card>
</div>

